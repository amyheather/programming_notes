

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Discrete event simulation (DES) &#8212; Birth outcomes  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=5b4479735964841361fd" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=5b4479735964841361fd" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=5b4479735964841361fd" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd" />
  <script src="../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=5b4479735964841361fd"></script>

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'simulation/discrete_event';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Prediction v.s. causal inference" href="../causal_concepts/1_predict_vs_causal.html" />
    <link rel="prev" title="Simulation" href="simulation.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
  
    <p class="title logo__title">Programming notes</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../python/general.html">
                        Python
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../r/general.html">
                        R
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../programming_notes/git.html">
                        Git
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="simulation.html">
                        Simulation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../causal_concepts/1_predict_vs_causal.html">
                        Causality
                      </a>
                    </li>
                
            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../programming_notes/latex.html">
                        Other
                      </a>
                    </li>
                
                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/amyheather/programming_notes/" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-github-square fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary" tabindex="0">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item">
<nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../python/general.html">
                        Python
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../r/general.html">
                        R
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../programming_notes/git.html">
                        Git
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="simulation.html">
                        Simulation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../causal_concepts/1_predict_vs_causal.html">
                        Causality
                      </a>
                    </li>
                
            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-nav-more-links-2">
                    More
                </button>
                <ul id="pst-nav-more-links-2" class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../programming_notes/latex.html">
                        Other
                      </a>
                    </li>
                
                </ul>
            </li>
            
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/amyheather/programming_notes/" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-github-square fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="simulation.html">Simulation</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Discrete event simulation (DES)</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="simulation.html" class="nav-link">Simulation</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Discrete...</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <div class="section" id="discrete-event-simulation-des">
<h1>Discrete event simulation (DES)<a class="headerlink" href="#discrete-event-simulation-des" title="Permalink to this heading">#</a></h1>
<div class="section" id="what-is-des">
<h2>What is DES?<a class="headerlink" href="#what-is-des" title="Permalink to this heading">#</a></h2>
<p>A DES models the behaviour of a system as a sequence of events in time. <a class="reference external" href="https://www.quora.com/What-is-the-difference-between-Monte-Carlo-and-discrete-event-simulation">[source]</a> It is used to model queueing problems (e.g. people waiting for service/s). <a class="reference external" href="https://hsma-programme.github.io/hsma6_des_book/intro_to_des_concepts.html">[source]</a> It is:</p>
<ul class="simple">
<li><p><strong>Stochastic (probablistic)</strong> - use random variables as inputs. Also known as probablistic models. Incorporate randomness/information about uncertainty. <a class="reference external" href="https://www.preventionweb.net/understanding-disaster-risk/key-concepts/deterministic-probabilistic-risk">[source]</a></p></li>
<li><p><strong>Dynamic</strong> - represents changes in system over time</p></li>
<li><p><strong>Discrete</strong> - variables change at discrete points in time (e.g. customer arrivals) <a class="reference external" href="https://bookdown.org/manuele_leonelli/SimBook/types-of-simulations.html">[source]</a></p></li>
</ul>
<p>The output of a stochastic model is a <strong>distribution</strong> so stochastic healthcare systems have variable performance. Model is a simplification of the system that attempts to mimic that variation. If we want to compare two or more systems that have stochastic behaviour and output a random variable, then we must do so carefully as there is a risk of making an inference error.[TomL7]</p>
<p>It uses <strong>next event time handling</strong>, meaning it keeps track of when events are due and hopes from event to event. This is more efficient, as ignores time inbetween when nothing is happening.[TomL7]</p>
</div>
<div class="section" id="components-of-a-des">
<h2>Components of a DES<a class="headerlink" href="#components-of-a-des" title="Permalink to this heading">#</a></h2>
<p>You can have a single <strong>run</strong> of a model, or you can have a batch of runs with the same parameter values which is a <strong>trial</strong>.</p>
<p>You model has <strong>entities</strong> (e.g. patients, ambulances, hospitals). The frequency at which they are generated can be determined by the <strong>inter-arrival time</strong>.</p>
<p>Entities wait in <strong>queues</strong> for <strong>activities</strong>. The queue will have a queueing policy which determines the order that entities are released (commonly first in first out, or priority-based). How long the activity then takes is the <strong>activity time</strong>. We also know the <strong>resources</strong> required for an activity to happen (specifically, the type and number of resources).</p>
<p><strong>Sinks</strong> are how entities leave the model - which happens when they are outside of the model scope.</p>
<p>Entities can have <strong>attributes</strong> that determine their journey (e.g. which path, queue priority, activity length). <a class="reference external" href="https://hsma-programme.github.io/hsma6_des_book/intro_to_des_concepts.html">[source]</a></p>
<p>Diagram created used <a class="reference external" href="https://app.diagrams.net/">https://app.diagrams.net/</a>:</p>
<p><img alt="DES components diagram" src="../_images/des_components.drawio.png" /></p>
<p>You can have <strong>branching paths</strong> (so different entities flow to different activities and/or sinks), which might be due to attributes, or probability, or time.</p>
<p>You will monitor <strong>outputs</strong> that answer your modelling questions - often this is a description of time that entities are in the system, queue length and duration, resource utilisation, probability of exceeding a threshold. <a class="reference external" href="https://hsma-programme.github.io/hsma6_des_book/intro_to_des_concepts.html">[source]</a></p>
</div>
<div class="section" id="des-inputs">
<h2>DES Inputs<a class="headerlink" href="#des-inputs" title="Permalink to this heading">#</a></h2>
<p>You use <strong>input modelling</strong> to determine the appropriate inputs for your model. This has four stages:</p>
<ol class="arabic simple">
<li><p><strong>Data collection.</strong></p></li>
<li><p><strong>Identifying the input data distribution.</strong> (e.g. review data histogram, think about context/intended use of data, consider whether there is correlation/dependency which may mean you need ‚Äòmore complex distributions that can represent autocorrelative processes, time-series data, or multivariate inputs‚Äô, whether the process changes over time, and the range of the data)</p></li>
<li><p><strong>Estimating parameters for the selected distribution.</strong> (e.g. normal distribution needs mean and variance/standard deviation, bernoulli distribution needs probability of success/failure in a binary experiment). Commonly use maximum likelihood estimation (MLE) or least-squares estimation</p></li>
<li><p><strong>Estimating the goodness of fit.</strong> Estimates ‚Äòcloseness between real data and samples that the selected probability distribution produces‚Äô (e.g. Kolmogorov-Smirnov test) <a class="reference external" href="https://softwaresim.com/blog/input-modeling-as-a-foundation-for-simulation/">[source]</a></p></li>
</ol>
</div>
<div class="section" id="des-outputs">
<h2>DES Outputs<a class="headerlink" href="#des-outputs" title="Permalink to this heading">#</a></h2>
<p>A simulation like DES can be either:</p>
<ul class="simple">
<li><p><strong>Terminating</strong> - starts empty and finishes empty (e.g. day surgery)</p></li>
<li><p><strong>Non-terminating</strong> - no natural endpoint (e.g. emergency department) [TomL10]</p></li>
</ul>
<p>There are four possible output types from these models:</p>
<ul class="simple">
<li><p><strong>Transient</strong> output - distribution of output is constantly changing</p></li>
<li><p><strong>Steady state</strong> - output is consistent - it varies but within a fixed distribution (steady-state distribution)</p></li>
<li><p><strong>Steady-state cycle</strong> - outputs shifts from one steady-state to another in a regular pattern (e.g. call volume differs by time of day, but will be in a steady-state if comparing the same time of day across multiple days)</p></li>
<li><p><strong>Shifting steady-state</strong> - output shifts from one steady-state to another without a regular/predictable pattern</p></li>
</ul>
<p><strong>Terminating</strong> models typically have <strong>transient</strong> output. <strong>Non-terminating</strong> models typically have a <strong>steady-state</strong> output (possibly with a cycle or shifts). It is possible however for a terminating model to have a steady state output (particularly if have long run length before terminates), and for a non-terminating model to not reach steady state. <a class="reference external" href="https://books.google.co.uk/books?id=Dtn0oAEACAAJ">[source]</a></p>
</div>
<div class="section" id="initialisation-bias">
<h2>Initialisation bias<a class="headerlink" href="#initialisation-bias" title="Permalink to this heading">#</a></h2>
<p>Data collection should have a <strong>realistic starting point</strong>. Our problem is that models have <strong>initialisation bias</strong> - i.e. they start in an unrealistic state. To deal with this‚Ä¶</p>
<div class="section" id="method-1-inspect-time-series">
<h3>Method 1. Inspect time series<a class="headerlink" href="#method-1-inspect-time-series" title="Permalink to this heading">#</a></h3>
<p>A <strong>warm-up period</strong> is when you run the model like normal, but don‚Äôt collect the results. <a class="reference external" href="https://hsma-programme.github.io/hsma6_des_book/model_warm_up.html">[source]</a></p>
<p>To find the length of the warm-up period, you should run the simulation for a long time, inspect a metric (e.g. waiting time every 60 minutes), and look for when it enters steady state. You would then delete that portion of the simulation (i.e. don‚Äôt save results until past the time threshold).[TomL10]</p>
<p>To identify when you have reached the steady state, you can either:</p>
<ul class="simple">
<li><p><strong>Use statistical method</strong> to determine when equilibrium is reached - <a class="reference external" href="https://eudl.eu/pdf/10.4108/ICST.SIMUTOOLS2009.5603">example</a></p></li>
<li><p>Eyeball it</p></li>
<li><p>Run it for a long time <a class="reference external" href="https://hsma-programme.github.io/hsma6_des_book/model_warm_up.html">[source]</a></p></li>
</ul>
</div>
<div class="section" id="method-2-set-initial-conditions-manually">
<h3>Method 2. Set initial conditions manually<a class="headerlink" href="#method-2-set-initial-conditions-manually" title="Permalink to this heading">#</a></h3>
<p>This save run time as you normally run and then delete warmup. This can either be based on:</p>
<ul class="simple">
<li><p><strong>Real system</strong></p></li>
<li><p>Running the <strong>model</strong> with warm-up and observing the steady state conditions</p></li>
</ul>
<p>You could consider using a <strong>distribution</strong> of initial conditions.</p>
</div>
</div>
<div class="section" id="queue-characteristics">
<h2>Queue characteristics<a class="headerlink" href="#queue-characteristics" title="Permalink to this heading">#</a></h2>
<p>‚ÄòThe <strong>queue discipline</strong> indicates the order in which members of the queue are selected for service‚Äô.<a class="reference external" href="https://www.oreilly.com/library/view/quantitative-techniques-theory/9789332512085/xhtml/ch9sec9.xhtml">[source]</a></p>
<p>Discplines:</p>
<ul class="simple">
<li><p><strong>FIFO (first-in first-out)</strong> - a.k.a. FCFS (first-come first served)</p></li>
<li><p><strong>LIFO (last-in first-out)</strong> - last entity is served first (e.g. eating a stack of pancakes)<a class="reference external" href="https://people.revoledu.com/kardi/tutorial/Queuing/Queuing-Discipline.html">[source]</a></p></li>
<li><p><strong>SIRO (service in random order)</strong> - i.e. randomly</p></li>
<li><p><strong>Priority queue</strong> when certain entities get priority <a class="reference external" href="https://www.oreilly.com/library/view/quantitative-techniques-theory/9789332512085/xhtml/ch9sec9.xhtml">[source]</a></p></li>
</ul>
<p>There are then certain behaviours we might observe‚Ä¶</p>
<p><strong>Reneging</strong> - Entity removes themself from a queue after a certain amount of time has elapsed</p>
<ul class="simple">
<li><p>E.g. Patient attribute of patience (e.g. sample a number, and thats how many minutes they are prepared to wait), when request resource tell simpy to wait until request is met or the patients patience expires. If they reneged, they won‚Äôt see nurse and we record the number that reneged</p></li>
</ul>
<p><strong>Balking</strong> - Entity chooses not to enter a queue in the first place because (a) it is too long for their preferences, or (b) there is no capacity for them</p>
<ul class="simple">
<li><p>Example for (b): Have parameter in g class with maximum queue length allowed. Have model attribute storing patients in queue, updated whenever patient leaves or joins. Before ask for nurse resource, check if queue is at max size. If so, patient will never join queue and we record that.</p></li>
</ul>
<p><strong>Jockeying</strong> - Entity switches queues in the hope of reducing queue time</p>
<ul class="simple">
<li><p>Never used in healthcare system. However, you might have system where entities pick which queue to join in the first place based on queue length (e.g. choosing between MIU or ED based on live waiting time data online) <a class="reference external" href="https://hsma-programme.github.io/hsma6_des_book/reneging_balking_jockeying.html">[source]</a></p></li>
</ul>
</div>
<div class="section" id="appointment-booking">
<h2>Appointment booking<a class="headerlink" href="#appointment-booking" title="Permalink to this heading">#</a></h2>
<p>Above, we‚Äôve assumed that arrivals flow through the system immediately (or as quickly as possible, depending on queues). That‚Äôs good for services like ED, walk-in clinic.</p>
<p>For services where clients are booked in future, there is <strong>delay between making appointment and attending</strong>. Possibile complexities include -</p>
<ul class="simple">
<li><p>Setting aside slots for <strong>urgent referrals</strong> and balancing that against capacity</p></li>
<li><p>Patients with <strong>regular appointments</strong> at certain intervals</p></li>
<li><p><strong>Triage</strong> step before appointment where decide whether need one or not</p></li>
<li><p><strong>Non-attendance of the appointment</strong> meaning either exit system or need to rebook <a class="reference external" href="https://hsma-programme.github.io/hsma6_des_book/appointment_style_booking_models.html">[source]</a></p></li>
</ul>
</div>
<div class="section" id="reproducibility">
<h2>Reproducibility<a class="headerlink" href="#reproducibility" title="Permalink to this heading">#</a></h2>
<p>You could set one seed per run. We then do 100 runs. Then we repeat that again. We want the results to be the same - and they are, yay!</p>
<p>Now we do a scenario where we <strong>change the number of nurses</strong>. We expect this to:</p>
<ul class="simple">
<li><p><strong>Change the queues</strong> for nurses and doctors - yes üôÇ</p></li>
<li><p>Number of <strong>arrivals remain unchanged</strong> - <strong>no</strong>! üôÅ</p></li>
</ul>
<p>This is because all the methods are using one seed. The order that the random numbers are generated in matters. As the order of events changes (e.g. as have more nurses, they can see more patients quicker, changing the order that subsequent events happen).</p>
<p>Hence, a robust way to do this is to <strong>set seeds for each type of event that we are generating random numbers for</strong>. This means that each event has a separate random number stream for each part of process (e.g. for the inter-arrival times, for the consult times, for our probabilities when branching). <a class="reference external" href="https://hsma-programme.github.io/hsma6_des_book/reproducibility.html">[source]</a></p>
</div>
<div class="section" id="evaluating-model-performance">
<h2>Evaluating model performance<a class="headerlink" href="#evaluating-model-performance" title="Permalink to this heading">#</a></h2>
<div class="section" id="metrics">
<h3>Metrics<a class="headerlink" href="#metrics" title="Permalink to this heading">#</a></h3>
<p><strong>Arrivals</strong>. (e.g. total arrivals per day)</p>
<p><strong>Resource utilisation</strong>. We want to track resource utilisation <strong>overall</strong> as well as at <strong>specific time points</strong>. We often won‚Äôt want utilisation to be close to 100%, although what we do want depends on the type and size of service (e.g. emergency service want lower utilisation so can safely cope with spike in demand). <a class="reference external" href="https://hsma-programme.github.io/hsma6_des_book/tracking_resource_utilisation.html">[source]</a></p>
<p><strong>Percentage of entities meeting a target</strong> (e.g. 4 hour arrival to admission). Consider whether anything in historical data patterns is because of trying to meet targets (e.g. 17% of admissions to a&amp;e between 3h50 and 4h). ‚ÄúIf the target was removed, would this result in a change in behaviour? How might the predictions of our model be affected by this?‚Äù</p>
<p><strong>Throughput - % of people entering system who have left by time model stops running</strong> - low throughput suggests a bottleneck - ‚Äúcan be a useful measure to track as a quick way of assessing whether different scenarios are leading to severe bottlenecks, but it is not that useful as a standalone measure.‚Äù <a class="reference external" href="https://hsma-programme.github.io/hsma6_des_book/other_model_metrics.html">[source]</a></p>
</div>
<div class="section" id="scenario-analysis">
<h3>Scenario analysis<a class="headerlink" href="#scenario-analysis" title="Permalink to this heading">#</a></h3>
<p><strong>Scenario analysis</strong> involves compare the results from multiple different scenarios (e.g. different levels of resource, arrivals, etc).</p>
<p>When doing this, use <strong>different random seeds</strong> for each replication or move fixed LARGE number of steps down random number stream on each replication.</p>
<p>Although you might use the same pseudo random numbers in two scenarios, else you see change from scenario and random numbers (which means more noise and needs more replications), whereas consistency means less needed. When doing this, we create a correlation between the two scenarios.[TomL7]</p>
</div>
<div class="section" id="replications">
<h3>Replications<a class="headerlink" href="#replications" title="Permalink to this heading">#</a></h3>
<p>Have <strong>replications</strong> (multiple runs) when estimating the performance of a given scenario.</p>
<p>To decide how many do to, find the point where the confidence interval is consistently 10% deviation from the mean (worth checking by adding a few more replications, and also, you might never reach that point).[TomL10]</p>
<p>Image from Tom Lecture 10:</p>
<p><img alt="Choosing number of scenarios" src="../_images/choose_n_scenario.png" /></p>
</div>
</div>
<div class="section" id="packages-and-software-for-discrete-event-simulation">
<h2>Packages and software for discrete event simulation<a class="headerlink" href="#packages-and-software-for-discrete-event-simulation" title="Permalink to this heading">#</a></h2>
<p>Python packages:</p>
<ul class="simple">
<li><p><strong>SimPy</strong></p></li>
<li><p><strong>CIW</strong> - <a class="reference external" href="https://ciw.readthedocs.io/en/latest/">docs</a>, <a class="reference external" href="https://github.com/TomMonks/ciw-urgent-care-call-centre">example</a>, <a class="reference external" href="https://health-data-science-or.github.io/simpy-streamlit-tutorial/content/03_streamlit/13_ciw_backend.html">conversion from SimPy</a></p></li>
<li><p><strong>Salabim</strong> - <a class="reference external" href="https://www.salabim.org/manual/Overview.html">docs</a>, provides methods for 2D and 3D animation</p></li>
</ul>
<p>R packages:</p>
<ul class="simple">
<li><p><strong>simmerR</strong> - <a class="reference external" href="https://r-simmer.org/">docs</a>, <a class="reference external" href="https://r-simmer.org/articles/simmer-05-simpy">conversion from SimPy</a>, <a class="reference external" href="https://the-strategy-unit.github.io/des_simmer_workshop/">tutorial</a>, can plot flow diagram of steps in model</p></li>
</ul>
<p>FOSS GUI software (i.e. drag and drop):</p>
<ul class="simple">
<li><p><strong>JaamSim</strong> <a class="reference external" href="https://hsma-programme.github.io/hsma6_des_book/alternative_foss_simulation_libraries_software.html">[source]</a></p></li>
</ul>
<p>Non-FOSS GUI:</p>
<ul class="simple">
<li><p>Simul8</p></li>
</ul>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://hsma-programme.github.io/Teaching_DES_Concepts_Streamlit/">Streamlit app with key DES concepts</a></p></li>
<li><p><a class="reference external" href="https://github.com/stars/Bergam0t/lists/simpy-examples">SimPy examples</a></p></li>
<li><p><a class="reference external" href="https://github.com/Bergam0t/simpy_visualisation">Visualisation examples</a> <a class="reference external" href="https://hsma-programme.github.io/hsma6_des_book/further_reading.html">[source]</a></p></li>
</ul>
</div>
</div>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="simulation.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Simulation</p>
      </div>
    </a>
    <a class="right-next"
       href="../causal_concepts/1_predict_vs_causal.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Prediction v.s. causal inference</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">

  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-des">What is DES?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#components-of-a-des">Components of a DES</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#des-inputs">DES Inputs</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#des-outputs">DES Outputs</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#initialisation-bias">Initialisation bias</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#method-1-inspect-time-series">Method 1. Inspect time series</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#method-2-set-initial-conditions-manually">Method 2. Set initial conditions manually</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#queue-characteristics">Queue characteristics</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#appointment-booking">Appointment booking</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reproducibility">Reproducibility</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluating-model-performance">Evaluating model performance</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#metrics">Metrics</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#scenario-analysis">Scenario analysis</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#replications">Replications</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#packages-and-software-for-discrete-event-simulation">Packages and software for discrete event simulation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#examples">Examples</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../_sources/simulation/discrete_event.md.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=5b4479735964841361fd"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      ¬© Copyright 2024, Amy Heather.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.14.4.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>